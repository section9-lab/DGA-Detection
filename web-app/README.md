# DGA Domain Detection Service

This service provides a web interface and API for detecting domains generated by Domain Generation Algorithms (DGAs) using an LSTM+Attention neural network model.

## Setup Instructions

### Prerequisites
- Python 3.8+
- The trained model files:
  - `dga_lstm_attention_model.h5`
  - `dga_tokenizer.pickle`
  - `dga_config.pickle`

### Installation

1. Install the required packages:
   ```
   pip install -r requirements.txt
   ```

2. Place your model files in the project root directory:
   - `dga_lstm_attention_model.h5`
   - `dga_tokenizer.pickle`
   - `dga_config.pickle`

3. Run the FastAPI application:
   ```
   python main.py
   ```

4. Access the web interface at http://localhost:8000

### Using Docker (Optional)

1. Build the Docker image:
   ```
   docker build -t dga-detection-service .
   ```

2. Run the container:
   ```
   docker run -p 8000:8000 dga-detection-service
   ```

## API Documentation

### Check a Single Domain

**Endpoint:** `POST /api/detect`

**Request Body:**
```json
{
    "domain": "example.com"
}
```

**Response:**
```json
{
    "domain": "example.com",
    "prediction": "Legitimate",
    "is_dga": false,
    "confidence": 0.98
}
```

### Batch Process Multiple Domains

**Endpoint:** `POST /api/batch-detect`

**Request Body:**
```json
[
    "google.com",
    "facebook.com",
    "asdfjkl123456.com"
]
```

**Response:**
```json
{
    "total": 3,
    "results": [
        {
            "domain": "google.com",
            "prediction": "Legitimate",
            "is_dga": false,
            "confidence": 0.99
        },
        {
            "domain": "facebook.com",
            "prediction": "Legitimate",
            "is_dga": false,
            "confidence": 0.98
        },
        {
            "domain": "asdfjkl123456.com",
            "prediction": "DGA",
            "is_dga": true,
            "confidence": 0.87
        }
    ]
}
```

## Web Interface

The web interface at http://localhost:8000 provides a simple form to check individual domains and visualize the prediction results.